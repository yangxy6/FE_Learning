# 前端加密
## 常见加密
1. 使用 Base64 / Unicode+1 等方式加密成非明文，后端解开之后再存它的 MD5/MD6 。
2. 直接使用 MD5/MD6 之类的方式取 Hash ，让后端存 Hash 的 Hash 。
## HTTPS 加密

1. HTTPS 就是 HTTP 下加入了 SSL 层，从而保护了交换数据隐私和完整性，提供对网站服务器身份认证的功能，简单来说就是安全版的 HTTP。
2. https(ssl)加密是发生在应用层与传输层之间，所以在传输层看到的数据才是经过加密的，而我们捕捉到的 http post，是应用层的数据，此时还没有经过加密。这些明文信息，其实就是你的本地数据。
   加密数据只有客户端和服务器端才能得到明文，客户端到服务端的通信过程是安全的。
3. HTTPS 三个功能

- 通过证书等信息确认网站对的真实性
- 建立加密的信息通道
- 数据内容的完整性

4. 对称加密和非对称加密

- 对称加密：加密与解密使用同一个密钥的加密算法，目前常见的有 DES,AES,IDEA 等。
- 非对称加密：使用两个密钥，公钥与私钥，我们会使用公钥对网站账号密码等数据进行加密，在用私钥对数据进行解密，这个公钥会发给查看网站的所有人，而私钥只有网站服务器自己拥有。常见的非对称加密有 RSA，DSA，DH。

5. HTTPS = 数据加密+网站认证+完整性验证+HTTP

# 前端监控

所谓的前端监控，其实是在满足一定条件后，由 Web 页面将用户信息（UA/鼠标点击位置/页面报错/停留时长/etc）上报给服务器的过程。一般是将上报数据用 url_encode（百度统计/CNZZ）或 JSON 编码（神策/诸葛 io）为字符串，通过 url 参数传递给服务器，然后在服务器端统一处理。

## 几种监控方式

1. 请求接口：get,post,head（所有的接口请求都会构成跨域。而跨域请求很容易出现由于配置不当被浏览器拦截并报错，这是不能接受的）
2. 请求普通文件：JS,CSS（创建资源节点后只有将对象注入到浏览器 DOM 树后，浏览器才会实际发送资源请求。反复操作 DOM 不仅会引发性能问题，而且载入 js/css 资源还会阻塞页面渲染，影响用户体验）
3. 请求图片：JPG,PNG,GIF（构造图片打点不仅不用插入 DOM，只要在 js 中 new 出 Image 对象就能发起请求，而且还没有阻塞问题，在没有 js 的浏览器环境中也能通过 img 标签正常打点，这是其他类型的资源请求所做不到的）

## 为什么主流方案使用 GIF 上报数据

1. 能够完成整个 HTTP 请求+响应（尽管不需要响应内容），1px 透明图，对网页几乎没有影响
2. 跨域友好（img 天然支持跨域）
3. 执行过程无阻塞
4. GIF 的最低合法体积最小（最小的 BMP 文件需要 74 个字节，PNG 需要 67 个字节，而合法的 GIF，只需要 43 个字节）
